<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav [mode]="mode.value">
         
         <p><a (click)="sidenav.toggle()" class="cross"><span class="glyphicon glyphicon-backward"></span></a></p>
    <div class="well">
        <div class="well">
            <p><span class="panel panel-info panel-heading d-flex p-2">Overview</span></p>       
            <p><a routerLink="/overview">Overview-Previous Purchase by users</a></p>       
        </div>
        <div class="well">
            <p><span class="panel panel-info panel-heading">Settings</span></p>      
            <p><a routerLink="/adminuserprofile">Admin User Profile</a></p>
            <p><a href="#">User Settings  </a></p>
        </div>
        <div class="well">
            <p><span class="panel panel-default panel-heading d-flex p-3">Pending</span></p>              
            <p><a routerLink="/portaluserprofile">Portal User Profile</a></p>
        </div>            
    </div>
    
  </mat-sidenav>
 
  <mat-sidenav-content>
     
    
          <div class="navbar navbar-dark bg-primary">
              <h4>Admin User Profile</h4>
          </div>
          <div class="panel">
                   <p><a (click)="sidenav.toggle()" class="btn btn-primary sharp"><span class="glyphicon glyphicon-forward"></span></a></p>
               </div>
              
             
             
              <div class="container">
                       
                   <form name="form" (ngSubmit)="f.form.valid && register(f)"  #f="ngForm" autocomplete="off" method="POST" novalidate>
                      <div class="row">
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0">
                          
                              <label class="form-labels-on-top" for="Username">Username
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-sm-pull-1 col-md-push-0 col-md-pull-1" 
                          [ngClass]="{ 'has-error':(f.submitted && Username.errors?.required) || (f.submitted && Username.errors?.pattern)  || (!Username.errors?.required && (Username.errors?.pattern)) }">
                              <input type="text" class="form-control" name="Username" id='Userid' [(ngModel)]="model.Username"   maxlength='50' pattern="^[a-zA-Z0-9]+$" ngModel required 
                  #Username="ngModel" maxlength='50' pattern="^[a-zA-Z0-9]+$" [disabled]="disableUserDetail" >
                             
                            <div *ngIf="f.submitted && Username.errors?.required" class="help-block">User Name is required</div>
                              <div *ngIf="Username.errors?.pattern" class="help-block">Only alphabets and numbers are Allowed</div>
                          </div>
                          
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" 
                           [ngClass]="{ 'has-error': (f.submitted && EmailID.errors?.required) || (f.submitted &&  EmailID.errors?.email) || (EmailID?.touched && EmailID.errors?.email && !EmailID.errors?.required) }" >
                              <label for="EmailID">Email ID
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-md-pull-1 col-sm-pull-1 col-md-push-0 " 
                           [ngClass]="{ 'has-error': (f.submitted && EmailID.errors?.required) || (f.submitted &&  EmailID.errors?.pattern) || (EmailID.errors?.pattern && !EmailID.errors?.required) }">
                              <input type="email" class="form-control" name="EmailID" id='emailid' [(ngModel)]="model.EmailID"    
                                #EmailID="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" ngModel
                                required/>
                               <div *ngIf="f.submitted && EmailID.errors?.required" class="help-block">Email ID is required</div> 
                              <div *ngIf="EmailID?.touched && EmailID.errors?.pattern && !EmailID.errors?.required" class="help-block">Invalid email id</div>
                          </div>
                      </div>
                      <div class="row">
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" 
                          [ngClass]="{ 'has-error': f.submitted && Password.errors?.required }">
                              <label for="Password">Password
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-md-pull-1 col-sm-pull-1 col-md-push-0" 
                                   [ngClass]="{ 'has-error': f.submitted && Password.errors?.required }">
                              <input type="password" class="form-control" name="Password" id='passwordid' [(ngModel)]="model.Password"  maxlength="20" ngModel required 
                               #Password="ngModel" maxlength="20" [disabled]="disableUserDetail">
                                  
                               <div *ngIf="f.submitted && Password.errors?.required" class="help-block">Password is required</div>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" 
                           [ngClass]="{ 'has-error': f.submitted && repassword.errors?.required || repassword.errors?.equalTo }" >
                              <label for="repassword">Re-Enter Password
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-md-pull-1 col-sm-pull-1 col-md-push-0" 
                           [ngClass]="{ 'has-error': (f.submitted && repassword.errors?.equalTo) || (f.submitted && repassword.errors?.required) || ( !repassword.errors?.required && (repassword?.touched && repassword.errors?.equalTo) )  }">
                              <input type="password" class="form-control" name="repassword" id='repasswordid' [(ngModel)]="model.repassword" maxlength="20" [equalTo]="Password" ngModel required #repassword="ngModel" 
                               [equalTo]="Password"
                                  [disabled]="disableUserDetail"/>  
                               <div *ngIf="f.submitted && repassword.errors?.required" class="help-block">Re-enter Password is required</div>
                              <div *ngIf=" repassword?.touched && repassword.errors?.equalTo && !repassword.errors?.required" class="help-block">Passwords does not match</div> 
                          </div>
                      </div>
          
                       <div class="row">
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" 
                           [ngClass]="{ 'has-error': f.submitted && firstname.errors?.required || firstname.errors?.pattern}">
                              <label class="form-labels-on-top" for="Firstname">First Name
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-sm-pull-1 col-md-push-0 col-md-pull-1" 
                           [ngClass]="{ 'has-error':(f.submitted && firstname.errors?.required) || (f.submitted && firstname.errors?.pattern)  || (!firstname.errors?.required && (firstname.errors?.pattern || firstname.errors?.asyncInvalid)) }">
                              <input type="text" class="form-control" name="firstname" [(ngModel)]="model.firstname" id='FirstId' maxlength='50' pattern="^[a-zA-Z0-9]+$" ngModel required  
                                #firstname="ngModel"  />
                                  
                             <div *ngIf="f.submitted && firstname.errors?.required" class="help-block">First Name is required</div>
                              <div *ngIf="firstname.errors?.pattern" class="help-block">Only alphabets and numbers are Allowed</div>
                              <div *ngIf="firstname.errors?.asyncInvalid" class="help-block">User already Exists</div> 
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-sm-push-2 col-md-push-0"
                           [ngClass]="{ 'has-error': f.submitted && lastname.errors?.required || lastname.errors?.pattern}">
                              <label class="form-labels-on-top" for="Lastname">Last name
                                  <i style="color:red">*</i>
                              </label>
                          </div>
                          <div class="form-group col-md-3 col-sm-6 col-sm-pull-1 col-md-push-0 col-md-pull-1" 
                           [ngClass]="{ 'has-error':(f.submitted && lastname.errors?.required) || (f.submitted && lastname.errors?.pattern)  || (!lastname.errors?.required && (lastname.errors?.pattern || lastname.errors?.asyncInvalid)) }">
                              <input type="text" class="form-control" name="lastname" id='LastId' [(ngModel)]="model.lastname" maxlength='50' pattern="^[a-zA-Z0-9]+$" ngModel required #lastname="ngModel" 
                                #lastname="ngModel"  />
                                 
                              <div *ngIf="f.submitted && lastname.errors?.required" class="help-block">Last Name is required</div>
                              <div *ngIf="lastname.errors?.pattern" class="help-block">Only alphabets and numbers are Allowed</div>
                             
                          </div>
                          </div>
                          <div class="row">
                                  <div class="form-group col-sm-6 col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" >
                                          <label for="Usertype">User Type
                                              <i style="color:red">*</i>
                                          </label>
                                      </div>
                                      <div class="form-group col-md-3 col-sm-6 col-sm-pull-1 col-md-push-0 col-md-pull-1" [ngClass]="{ 'has-error': f.submitted &&  UserType.errors?.required  }" > 
                                      <angular2-multiselect class='form-control form-control-sm' name='UserType' [data]="dropdownListRole" [(ngModel)]="model.selectedRole"
                                          #UserType='ngModel' [settings]="dropdownSettingsRole"  required>
                                          <c-item>
                                              <ng-template let-item="item">
                                                    <!-- <label style="color: #333;min-width: 50px;font-size: 12px;">{{item.id}}</label> -->
                                                  <label style="color: #333;min-width: 50px;font-size: 12px;">{{item.itemName}}</label>
                                                   </ng-template>
                                          </c-item>
                                      </angular2-multiselect>
                                      <div *ngIf="f.submitted && UserType.errors?.required" class="help-block"> User Type is required</div>
                                          </div>
                             
                              <div class="form-group col-sm-6 col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" >
                                          <label for="Rolecode">Role code
                                              <i style="color:red">*</i>
                                          </label>
                                      </div>
                                      <div class="form-group col-md-3 col-sm-6 col-sm-pull-1 col-md-push-0 col-md-pull-1"[ngClass]="{ 'has-error': f.submitted &&  RoleCode.errors?.required  }" > 
                                           <angular2-multiselect class='form-control form-control-sm' name='RoleCode' [data]="dropdownList" [(ngModel)]="model.selectedUserType"
                        #RoleCode='ngModel' [settings]="dropdownSettings"  required>
                        
                        <c-item>
                            <ng-template let-item="item">
                                    <!-- <label style="color: #333;min-width: 50px;font-size: 12px;">{{item.id}}</label> -->
                                <label style="color: #333;min-width: 50px;font-size: 12px;">{{item.itemName}}</label>
                                 </ng-template>
                        </c-item>
                    </angular2-multiselect>
                    <div *ngIf="f.submitted && RoleCode.errors?.required" class="help-block"> Role Code is required</div>
                                          </div>
                                      
                              </div>
                              <div class="row">
                                      <div class="form-group col-sm-6 col-xs-3 col-md-3 col-sm-6 col-sm-push-2 col-md-push-0" >
                                              <label for="Active">Active
                                                 
                                              </label>
                                          </div>
                                          <div class="form-group col-md-0 col-sm-1 col-xs-3 col-sm-pull-1 col-md-push-0 col-md-pull-1 " > 
                                               <!-- <input type="checkbox" class="form-control" name="active" id='checkId' value="Bike" [(ngModel)]="model.active" checked="model.active"  ngModel  #active="ngModel"> -->
                                                  <input type="checkbox" id="checkId" name="active" [(ngModel)]="model.active" #active="ngModel"><br>
                                              </div> 
                              </div>
                              <p-footer>
                                      <div class="ui-lg">
                                              <div class="row">
                                                      <div class="ui-g-3 ui-md-3 ui-sm-6"></div>
                                                       <div class="ui-g-2 ui-md-2 ui-sm-5"></div> 
                                      
                                      <div class="ui-g-2 ui-md-2 ui-sm-4"><button type="submit" class="btn btn-primary"><i class="glyphicon glyphicon-floppy-disk"></i>Save</button></div>
                                      <div class=" ui-g-2 ui-md-2 ui-sm-4"><button type="reset" class="btn btn-primary" (click)="reset()"><i class="glyphicon glyphicon-plus"></i>Add User</button></div>
                                      </div>
                                      </div>
                              </p-footer> 
                     
                       </form> 
                       
       </div>

      

     <div class="container">
       
              <div class="panel panel-default">
                  
                  <div class="panel-heading"><b>User List</b></div>
                    <div class="panel body">
                           <p-table #dt [columns]="cols" [responsive]="true" [value]="cars" selectionMode="single" [(selection)]="selectedCars1" [paginator]="true" paginatorPosition="both"
                      [rows]="10" dataKey="prtL_ADMN_USR_NAM"  (onRowSelect)="onRowSelect($event)">
                      <ng-template pTemplate="caption">
                            <div class="row" style="padding: 0px;margin: 0px; text-align: right;">
                                    <div class="form-group col-md-push-6 col-md-6 col-lg-push-6 col-lg-6 col-sm-12 col-xs-12" style="padding-left: 0px; padding-right: 0px;     margin-bottom: 0px;">
    
                                        <input type="text" pInputText placeholder="Global Filter" (input)="dt.filterGlobal($event.target.value, 'contains')"
                                            style="width:auto;  border: 1px solid lightgrey;">
                                        <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                                    </div>
                                    </div>
                      </ng-template>
                      <ng-template pTemplate="header" let-columns>
                          <tr>

                              <th *ngFor="let col of columns"  
                                       [pSortableColumn]="col.field"> 
                                  <p-sortIcon [field]="col.field"></p-sortIcon> 
                                  {{col.header}}

                              </th>
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-rowData let-columns="columns">
                          <tr [pSelectableRow]="rowData">
                              <td *ngFor="let col of columns" style="white-space: nowrap;
                              overflow: hidden;
                              text-overflow: ellipsis;
                              max-width: 150px;">
                                  <span class="ui-column-title">{{col.header}}</span>

                                  <span *ngIf="col.header==='Active'">
                                      <!-- <a style="color:blue;" routerLink="/userdetail" (click)="getdata(rowData)">{{rowData[col.field]}}</a> -->
                                      <input type="checkbox" id="checkId" name="active" [(ngModel)]="rowData[col.field]" checked="rowData[col.field]"   #active="ngModel" [disabled]='true'>
                                  </span>
                                   <span *ngIf="col.header!=='Active'" >{{rowData[col.field]}}</span> 
                              </td>
                          </tr>
                      </ng-template>

                  </p-table>
                   
    </div>

  </div>
  
    
          </div>
     </mat-sidenav-content> 

</mat-sidenav-container>